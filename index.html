<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Galerie — Consultation uniquement</title>
<style>
  :root { --gap: 12px; }
  * { box-sizing: border-box; }
  body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:#111; color:#eee; }
  header { padding:14px 16px; text-align:center; font-weight:600; }
  .grid { display:grid; gap:var(--gap); grid-template-columns: 1fr; padding: var(--gap); max-width: 1200px; margin: 0 auto; }
  .card { background:#1a1a1a; border-radius:16px; overflow:hidden; box-shadow: 0 6px 20px rgba(0,0,0,.35); }
  .thumb { aspect-ratio: 4/3; width:100%; background:#222 center/cover no-repeat; user-select:none; -webkit-user-drag: none; }
  .cap { padding:10px 12px; font-size:14px; opacity:.85; background: rgba(255,255,255,.04); }
  .lightbox { position: fixed; inset:0; display:none; place-items:center; background: rgba(0,0,0,.9); z-index: 9999; }
  .lightbox.open { display:grid; }
  .stage { width: min(92vw, 1400px); height: min(92vh, 90vw); background: center/contain no-repeat; user-select:none; -webkit-user-drag: none; position:relative; }
  .ui { position: absolute; inset:auto 0 0 0; display:flex; gap:8px; justify-content: center; padding: 12px; }
  .btn { background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.15); padding:10px 14px; border-radius: 999px; cursor: pointer; backdrop-filter: blur(6px); }
  .btn:active { transform: translateY(1px); }
  @media (min-width: 600px){ .grid { grid-template-columns: repeat(2, 1fr); } }
  @media (min-width: 1024px){
    body { height: 100vh; display: grid; grid-template-rows: auto 1fr; }
    header { padding: 10px 16px; }
    .grid { max-width: none; margin: 0; grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(2, 1fr); height: calc(100vh - 56px); }
    .card { display: grid; grid-template-rows: 1fr auto; height: 100%; }
    .thumb { aspect-ratio: auto; width: 100%; height: 100%; background-size: cover; background-position: center; }
    .cap { font-size: 15px; }
  }
</style>
</head>
<body>
  <header>Galerie — Consultation uniquement (téléchargement désactivé)</header>

  <main class="grid" id="grid">
    <figure class="card">
      <a href="img1.jpg?v=2" data-cap="Photo 1">
        <div class="thumb" style="background-image:url('img1.jpg?v=2')"></div>
      </a>
      <figcaption class="cap">Photo 1</figcaption>
    </figure>
    <figure class="card">
      <a href="img2.jpg?v=2" data-cap="Photo 2">
        <div class="thumb" style="background-image:url('img2.jpg?v=2')"></div>
      </a>
      <figcaption class="cap">Photo 2</figcaption>
    </figure>
    <figure class="card">
      <a href="img3.jpg?v=2" data-cap="Photo 3">
        <div class="thumb" style="background-image:url('img3.jpg?v=2')"></div>
      </a>
      <figcaption class="cap">Photo 3</figcaption>
    </figure>
    <figure class="card">
      <a href="img4.jpg?v=2" data-cap="Photo 4">
        <div class="thumb" style="background-image:url('img4.jpg?v=2')"></div>
      </a>
      <figcaption class="cap">Photo 4</figcaption>
    </figure>
  </main>

  <div class="lightbox" id="box" aria-hidden="true">
    <div class="stage" id="stage" role="dialog" aria-label="Visionneuse"></div>
    <div class="ui">
      <button class="btn" id="prev" aria-label="Précédent">◀</button>
      <button class="btn" id="close" aria-label="Fermer">✕ Fermer</button>
      <button class="btn" id="next" aria-label="Suivant">▶</button>
    </div>
  </div>

<script>
(() => {
  const links = Array.from(document.querySelectorAll('#grid a'));
  const box = document.getElementById('box');
  const stage = document.getElementById('stage');
  const closeBtn = document.getElementById('close');
  const nextBtn = document.getElementById('next');
  const prevBtn = document.getElementById('prev');
  let idx = 0;

  document.addEventListener('contextmenu', e => e.preventDefault());
  document.addEventListener('dragstart', e => e.preventDefault());

  function openAt(i){
    idx = (i + links.length) % links.length;
    stage.style.backgroundImage = `url('${links[idx].getAttribute('href')}')`;
    box.classList.add('open'); box.setAttribute('aria-hidden', 'false');
  }
  function close(){ box.classList.remove('open'); box.setAttribute('aria-hidden', 'true'); }

  links.forEach((a,i) => a.addEventListener('click', e => { e.preventDefault(); openAt(i); }));
  closeBtn.addEventListener('click', close);
  nextBtn.addEventListener('click', () => openAt(idx+1));
  prevBtn.addEventListener('click', () => openAt(idx-1));
  box.addEventListener('click', e => { if(e.target === box) close(); });
  document.addEventListener('keydown', e => {
    if(!box.classList.contains('open')) return;
    if(e.key === 'Escape') close();
    if(e.key === 'ArrowRight') openAt(idx+1);
    if(e.key === 'ArrowLeft') openAt(idx-1);
  });
})();
</script>
</body>
</html>


